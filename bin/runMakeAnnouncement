#!/usr/bin/env node

"use strict";

const DateUtils = require('../services/DateUtils.js');
const makeAnnouncement = require('../makeAnnouncement.js');

const ANNOUNCEMENT_MONTHS = process.env.ANNOUNCEMENT_MONTHS.split(';');
const ANNOUNCEMENT_DAY_OF_MONTH = process.env.ANNOUNCEMENT_DAY_OF_MONTH;

if (!(ANNOUNCEMENT_MONTHS.includes(DateUtils.getCurrentMonth()) && ANNOUNCEMENT_DAY_OF_MONTH == DateUtils.getCurrentDayOfMonth())) {
    console.log(ANNOUNCEMENT_MONTHS.includes(DateUtils.getCurrentMonth()));
    console.log(ANNOUNCEMENT_MONTHS.indexOf(DateUtils.getCurrentMonth()) !== -1);
    console.log(ANNOUNCEMENT_MONTHS.toString());
    console.log(DateUtils.getCurrentMonth());
    console.log(ANNOUNCEMENT_DAY_OF_MONTH == DateUtils.getCurrentDayOfMonth());
    console.log("Annoncement not made, not today.")
    return;
}

makeAnnouncement();
